
## OSI七层模型
> OSI(Open System Interconnect)的七层模型是为了将复杂的问题简单化

其核心思想:
- 通信两端的主机能够理解对方的语言
- 希望通信系统模块化, 每个模块提供标准接口(每个模块独立开发,增加自由度.标准化的接口,减轻二次开发的压力)

![OSI Model](https://miro.medium.com/max/4000/1*-hQHFX-UjlruHDf9Je0lXg.png)

1. 应用层(Application Layer):
  
为应用软件而设计的接口, 以设置与另一应用软件之间的通信. 作为程序员, 基本上也是在这层进行网络的开发和自定义. 我们使用的软件和一些常见的协议,均来源于此层, 如 `HTTP`, `FTP`, `SSH`, `SMTP`, `HTML`
  
2. 表示层(Presentation Layer):

表示层的意义: 从字面去理解,就是数据到达应用层之前, 把数据表示成应用能听得懂的人话.这层表示包括了对: **数据的加解密, 数据的压缩和解压**  
机器眼中: 从网卡收到一串数据后(二进制形式), 将这些二进制转换成应用能够识别的数据. => **对数据格式进行编译**
  
3. 会话层(Session Layer):
  
用来管理网络设备的会话连接, 试想一个问题: 我们都用过windows的共享文件夹吧? 第一次我们打开后,提示登陆账号密码, 传输文件, 关闭文件夹. 第二次再打开,没有提示输入账号密码,直接就可以使用, 为什么?  
  
 Window系统中共享文件用的SMB协议, 这是一个`会话层`协议. 如果A电脑上没有设置对B账号的权限时, B账号访问时,是没有权限进入的(会话建立时的身份验证、权限鉴定)  
当我们关闭该文件夹时,只是关闭了该进程,并不是终止会话(SMB的会话断开时间为60分钟), 这是会话层的另一个功能 **会话管理**

4. 传输层(Transport Layer):

建立主机端到端的连接(`end-to-end`), 逻辑上的建立(比如你和你国外的朋友打一次视频电话,你们的声音经过了无数次数据中转).大家口中长谈的:`TCP`和`UDP`均来自于此层  
把上面的数据和传输表头结合形成 -> `数据段,Segment`
  
---------------------------------------------------------------------------------------------------------------------------

5. 网络层(Network Layer):

基于数据包的逻辑地址(IPv4)进行地址转发, 寻找网络中的目的位置(比如你在海口想要写封信给武汉的朋友,那这一路上的路线全是基于你这个目的地址规划的).假设我们开启了上帝视角, 那就是从家门口->邮局->铁路->武汉邮件->快递小哥->你朋友家)  
将数据包和网络表头结合形成 -> `报文,数据包`
  
6. 数据链路(Data Link Layer):

还记得我们在网络层提到过一个上帝视角, 我们可以从全局的方式看待这次传输, 但就像领导老是喜欢说大话一样, 下属要替领导考虑实际的落实方案. 比如上面写信的例子, **家门口->邮件这条链路**, 是不是邮局小哥需要去考虑的? 他需要去解决你这封信在两端链路的数据传递(协议是否一致).   
再比如, 邮局将这些信用面包车发出, 但是铁路一直在火车站等待接受,这就是两端没协商好,协议不一致,会自然会导致信件的不可达  
将报文和数据链表头和表尾结合形成 -> `Data Frame(帧)`

7. 物理层(Physical Layer):
物理层包含三点要素:
- 网络连接器: 电脑上的网口, 网络设备上的接口
- 传输介质: wifi, 网线
- bit流: 传输的数据.

## TCP/IP 模型
![TCP/IP](https://pic4.zhimg.com/v2-e476b7e05e77bab0d2c43735e3a4d45b_r.jpg)

OSI是有国际组织定义的,它定义了整个网络架构的方方面面,导致它太过复杂,实现起来太难了. TCP/IP便运势而生了, 结合了OSI模型的思想进行了整合.  
我们在学习网络知识的时候，都是参照OSI模型的，但在使用的时候，都是使用TCP/IP模型.

## TCP/IP的划分
TCP/IP是对OSI进行了缩减, 为什么会缩减成这4部分呢?

首先,对于OSI上三层来说, 都属于应用级别, 都可以规划为 **数据的构建**: 我们需要传递些什么数据, 数据是否需要经过压缩或者加密, 是否构建两端会话,是否进行会话验证.

然后再来看下三层: 都属于传输级别, 其中物理层和数据链路层规划成网络访问层, 它代表着两端(注意,这两端指的不是你家电脑和远程电脑),而是实际物理设备中的两端之间数据的传输(下属). 而网络层主要解决的是数据的最终目标,也就是一个计算机的IP如何路由到目标计算机的过程规范(领导).

那么传输层是干啥的呢? 我们说了那么多高大上的词汇, 其实网络之间通信还不是通过各种信号进行传输的(数字信号,模拟信号,光通信信号)等,既然是信号传播,那就存在信号丢失,信号到达顺序等问题.  
传输层就是负责解决这些问题的,具体的形式,等说到TCP/UDP的时候再提及






参考: [如何生动形象、切中要点地讲解 OSI 七层模型和两主机传输过程?](https://www.zhihu.com/question/24002080)
